---
layout: post
title: Why and How to Use Java.util.stream.Collectors
date: 2021-01-17 10:37:42.000000000 +02:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- Java
tags:
- Collections
- streams
- toList
- toMap
meta:
  _wpcom_is_markdown: '1'
  _jetpack_related_posts_cache: a:2:{s:32:"37550b67d263a3ce789993dc25046c5f";a:2:{s:7:"expires";i:1613231568;s:7:"payload";a:6:{i:0;a:1:{s:2:"id";i:233;}i:1;a:1:{s:2:"id";i:262;}i:2;a:1:{s:2:"id";i:248;}i:3;a:1:{s:2:"id";i:273;}i:4;a:1:{s:2:"id";i:339;}i:5;a:1:{s:2:"id";i:190;}}}s:32:"8f6677c9d6b0f903e98ad32ec61f8deb";a:2:{s:7:"expires";i:1613261952;s:7:"payload";a:3:{i:0;a:1:{s:2:"id";i:233;}i:1;a:1:{s:2:"id";i:262;}i:2;a:1:{s:2:"id";i:248;}}}}
  _last_editor_used_jetpack: block-editor
  _wpas_done_all: '1'
  _wp_old_slug: why-and-how-to-use-java-util-stream-collectors-in-java
permalink: "/why-and-how-to-use-java-util-stream-collectors/"
---
<p><!-- wp:paragraph --></p>
<p>Streams are a wonderful feature in Java allowing you to write clean, efficient and powerful code.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>If you haven't consumed the output of the stream, you will probably want to collect it. That's when the methods from Java.util.stream.Collectors come to help. </p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Here are some useful examples:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:list --></p>
<ul>
<li>Collect to list:</li>
</ul>
<p><!-- /wp:list --></p>
<p><!-- wp:code --></p>
<pre class="wp-block-code"><code>List&lt;String&gt; asdfgh = Arrays.asList("asd", "fgh");
List&lt;String&gt; fgh = asdfgh.stream().filter(x -&gt; x.contains("a")).collect(Collectors.toList());</code></pre>
<p><!-- /wp:code --></p>
<p><!-- wp:paragraph --></p>
<p>We start with a list of strings containing "asd" and "fgh". With a predicate we filter the values which contain "a" and then collect the result to a new list.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:list --></p>
<ul>
<li>Collect to map:</li>
</ul>
<p><!-- /wp:list --></p>
<p><!-- wp:code --></p>
<pre class="wp-block-code"><code>import java.util.ArrayList;
import java.util.List;
import java.util.Map;
import java.util.stream.Collectors;

class Friend {

	int id;
	String name;

	public int getId() {
		return id;
	}

	public String getName() {
		return name;
	}

	public Friend(int id, String name) {
		this.id = id;
		this.name = name;
	}

}

public class Test {

	public static void main(String&#91;] args) {

		Friend niceGuy = new Friend(0, "Joe");
		Friend badGuy = new Friend(1, "Donald");

		List&lt;Friend&gt; myFriends = new ArrayList&lt;&gt;();
		myFriends.add(niceGuy);
		myFriends.add(badGuy);

		Map&lt;Integer, String&gt; friendsMap = myFriends.stream().collect(Collectors.toMap(Friend::getId, Friend::getName));

	}
}</code></pre>
<p><!-- /wp:code --></p>
<p><!-- wp:paragraph --></p>
<p>This example is a bit more complex in order to make sense. There is a class Friend which is needed for the Collectors.toMap functions implementations. So in the end we convert a list of Friend objects to a map of integers and strings. </p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>There are also other Collectors method such as toSet and toConcurrentMap which are similar to the above. </p>
<p><!-- /wp:paragraph --></p>
